<mat-progress-spinner
  [mode]="'indeterminate'"
  *ngIf="loading | async"
></mat-progress-spinner>
<div class="header--container">
  <h1 class="header--text">ï·½</h1>
  <div class="header--details">
    <h4>RSVP</h4>
    <h3>The celebration of Rami and Dima's Katb Al-Kitab</h3>
  </div>

  <h1 *ngIf="succuss">Thank you we look forward to seeing you.</h1>
</div>

<div *ngIf="!isLoading && !succuss">
  <form class="basic-container" [formGroup]="guestForm">
    <div formArrayName="name">
      <div>
        <div class="part--size--container">
          <h2 class="party--size">Party size</h2>
          <button
            class="min-guest"
            mat-icon-button
            color="primary"
            aria-label="Remove/clear"
            (click)="removeOrClearEmail(getControls().length - 1)"
            matTooltip="Remove"
          >
            <mat-icon>remove_circle_outline</mat-icon>
          </button>
          <button
            class="add-person"
            mat-icon-button
            aria-label="Add"
            (click)="addguestFormGroup()"
            matTooltip="Add"
          >
            {{ getControls().length }}
          </button>

          <button
            class="add-person"
            mat-icon-button
            color="primary"
            aria-label="Add"
            (click)="addguestFormGroup()"
            matTooltip="Add"
          >
            <mat-icon>add_circle_outline</mat-icon>
          </button>
        </div>
      </div>
      <div
        class="input--row"
        *ngFor="let email of getControls(); let i = index"
        [formGroupName]="i"
      >
        <div class="names">
          <mat-form-field class="input--name">
            <mat-label>First name</mat-label>
            <input
              required
              minlength="1"
              appearance="outline"
              matInput
              formControlName="firstName"
            />
            <mat-error *ngFor="let validation of validationMsgs.firstName">
              {{ validation.message }}
            </mat-error>
          </mat-form-field>

          <mat-form-field class="input--name">
            <mat-label>Last name</mat-label>
            <input
              required
              minlength="1"
              matInput
              formControlName="lastName"
              placeholder="Last name"
            />
            <mat-error *ngFor="let validation of validationMsgs.firstName">
              {{ validation.message }}
            </mat-error>
          </mat-form-field>
        </div>

        <mat-radio-group
          class="food"
          required
          formControlName="food"
          aria-label="Select an option"
        >
          <mat-radio-button
            *ngFor="let label of Food"
            name="test"
            [value]="label"
          >
            <h4>
              {{ label }}
            </h4>
          </mat-radio-button>
        </mat-radio-group>

        <!-- <div class="btn">
  <button
  class=""
  mat-icon-button
  color="primary"
  aria-label="Remove/clear"
  (click)="removeOrClearEmail(i)"
  matTooltip="Remove"
  >
  <mat-icon>remove_circle_outline</mat-icon>
</button>
<button
class="add-person"
mat-icon-button
color="primary"
aria-label="Add"
(click)="addguestFormGroup()"
matTooltip="Add"
>
<mat-icon>add_circle_outline</mat-icon>
</button>
</div> -->
      </div>
    </div>
  </form>
  <div class="btn--container">
    <button
      [disabled]="!guestForm.valid"
      mat-raised-button
      class="submit-btn"
      (click)="addGuest()"
    >
      <h4>Submit</h4>
    </button>
  </div>
</div>
